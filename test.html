
<!-- The main template used to render everything -->
<template name="mainTemplate">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        {{#if currentUser}}
          <p id="currentUser">{{loggedUser}}</p>
          <a href="{{pathFor route='signupTemplate'}}" class="btnSignOut btn btn-primary">Sign out</a>
        {{else}}
          <a href="{{pathFor route='signupTemplate'}}" class="btnSignUp btn btn-primary">Sign up</a>
          <a href="{{pathFor route='signinTemplate'}}" class="btnLogIn btn btn-primary">Sign in</a>
        {{/if}}
      </div>
      <div class="col-md-4">
        {{> navTemplate}}
      </div>
      <div class="col-md-8">
        {{> yield}}
      </div>
    </div>
  </div>
</template>

<!-- This template renders both the list and the adding of Todos -->
<!-- Items will be clickable and have their own tasks stored in them -->
<template name="navTemplate">
  {{> todosAddTemplate}}
  {{> todosTemplate}}
</template>

<!-- Template for the todo list -->
<template name="todosTemplate">
  <div class="todoUl">
    {{#each todos}}
      <p class="{{#if checked}}checked{{/if}}">
        <!-- <input type="checkbox" name="checkbox" checked="{{checked}}" class="toggle-checked">-->
        <a href="/tasks/{{_id}}"><input type="text" name="todoItem" value="{{todo}}"></a>
        <button type="button" name="btnDelTodo" class="btn btn-danger"> <i class="fa fa-trash-o"></i> </button>
      </p>
    {{/each}}
  </div>
</template>

<!-- Template for adding new Todo item -->
<template name="todosAddTemplate">

  <h3><a href="{{pathFor route='home'}}">TODOS</a></h3>
  <form class="add-form">
    <input type="text" name="todoInput" value="" placeholder="Add a todo item here...">
    <button type="submit" name="btnAddTodo" class="btn btn-primary"> <i class="fa fa-plus"></i> </button>
  </form>
</template>

<!-- Yielded Templates -->
<template name="tasksTemplate">
  <h3>{{todo}}</h3>
  <form class="add-task-form">
    <input type="text" name="taskInput" value="" placeholder="Add new task here..">
    <button type="submit" name="btnAddTask" class="btn btn-primary"> <i class="fa fa-plus"></i> </button>
  </form>
  {{> tasksViewTemplate}}
</template>

<template name="tasksViewTemplate">
  {{#each tasks}}
    <p class="{{#if checked}}checked{{/if}}">
      <input type="checkbox" checked="{{checked}}" class="toggle-checked" />
      <input type="text" name="taskItem" value="{{task}}">
      <button type="button" name="btnDelTask"> <i class="fa fa-times"></i> </button>
    </p>
  {{/each}}
</template>

<!-- Template for user sign up -->
<template name="signupTemplate">
  <form class="sign-up-form">
    <div class="input-group">
      <span class="input-group-addon" id="emailAddOn"><i class="fa fa-envelope-o"></i></span>
      <input type="text" name="registerEmail" placeholder="Email Address" class="form-control" aria-describedby="emailAddOn">
    </div>
    <div class="input-group">
      <span class="input-group-addon" id="passwordAddOn"><i class="fa fa-unlock-alt"></i></span>
      <input type="password" name="registerPassword" placeholder="Password" class="form-control" aria-describedby="passwordAddOn" id="registerPassword">
    </div>
    <div class="input-group">
      <span class="input-group-addon" id="rePassAddOn"><i class="fa fa-unlock-alt"></i></span>
      <input type="password" name="rePassword" placeholder="Confirm Password" class="form-control" aria-describedby="rePassAddOn">
    </div>
      <button type="submit" class="btn btn-primary">Create Account</button>
  </form>
</template>

<!-- Template for user sign in -->
<template name="signinTemplate">
  <form class="sign-in-form">
    <div class="input-group">
      <span class="input-group-addon" id="logEmailAddOn"><i class="fa fa-envelope-o"></i></span>
      <input type="text" name="loginEmail" placeholder="Registered email address" class="form-control" aria-describedby="logEmailAddon">
    </div>
    <div class="input-group">
      <span class="input-group-addon" id="logPassAddOn"><i class="fa fa-unlock-alt"></i></span>
      <input type="password" name="logPassword" placeholder="Registered password" class="form-control" aria-describedby="logPassAddOn">
    </div>
    <button type="submit" class="btn btn-primary">Sign in</button>
  </form>
</template>

<template name="home">
  <h1>Welcome to my version of<br/> TODOS Meteor App</h1>
</template>
